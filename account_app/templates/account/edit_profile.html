{% extends 'base.html' %}
{% load static %}
{% block title %}Profili Düzenle{% endblock %}

{% block content %}
<div class="container d-flex justify-content-center align-items-center" style="min-height: 80vh;">
  <div class="blur-container p-4" style="width: 100%; max-width: 500px;">

    <h3 class="text-center mb-4">Profilini Düzenle</h3>

    <!-- Profile Picture Preview -->
    {% if user.userprofile.profile_picture %}
      <div class="text-center mb-3">
        <img src="{{ user.userprofile.profile_picture.url }}" alt="Profile Picture" class="rounded-circle" style="width: 100px; height: 100px; object-fit: cover;">
      </div>
    {% else %}
      <div class="text-center mb-3">
        <img src="{% static 'img/default-profile.png' %}" alt="Default Profile" class="rounded-circle" style="width: 100px; height: 100px; object-fit: cover;">
      </div>
    {% endif %}

    <form method="post" enctype="multipart/form-data">
      {% csrf_token %}
      <div class="form-group mb-3">
        {{ form.bio.label_tag }}
        {{ form.bio }}
      </div>
      <div class="form-group mb-3">
        {{ form.profile_picture.label_tag }}
        {{ form.profile_picture }}
      </div>
      <div class="text-center mt-4">
        <button class="btn btn-success" type="submit">Değişiklikleri Kaydet</button>
        <a href="{% url 'profile_view' user.username %}" class="btn btn-outline-light ms-2">İptal Et</a>
      </div>
    </form>

  </div>
</div>
{% endblock %}
